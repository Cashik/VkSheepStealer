<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | Sheep Stealer</title>
    <style>
    /* a style sheet needs to be present for cursor hiding and custom cursors to work. */
    </style>
      <script src="https://vk.com/js/api/xd_connection.js?2"  type="text/javascript"></script>
      <script type="text/javascript">
          VK.init(function () {
            //alert("Vk init");
          }, function () {
            //alert("Vk dont init");
          }, '5.62');

          
          function UnityShow(){
              GetUnity().style.visibility = 'visible';
          }
          function UnityHide(){
              GetUnity().style.visibility = 'hidden';
          }
        
          function SentToPlayer(func, what){
              SendMessage("SocialManager", func, what);
          }
          
          function GetParams(){
              alert(document.location.href+'');
              SentToPlayer("RecvParams",document.location.href+'');
          }
          
          function GetProfile(uid) {
              VK.api("users.get", { uids: uid, fields: 'first_name,photo, last_name' }, function (data) {
                  var Fname = "";
                  var Lname = "";
                  var Photo = "";

                  if (data.response) {
                      Fname = data.response[0]['first_name'];
                      Lname = data.response[0]['last_name'];
                      Photo = data.response[0]['photo'];
                      var Profile = [uid, Fname, Lname, Photo];

                      SentToPlayer("OnGetPlayer", Profile.toString());

                  }

              });
          }
          
          function PostToWall(msg) {
            VK.api("wall.post", {"message": msg}, function (data) {
                if (data.error){
                    console.error(data.error.error_msg); 
                }
                console.log(data.response.post_id); 
                
            });
          }
        
          function ShowInvite(msg) {
            VK.callMethod("showInviteBox");
          }
          
        </script>
  </head>
  <body>
    <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" height="600px" width="960px"></canvas>
    <script type='text/javascript'>
  var Module = {
    TOTAL_MEMORY: 268435456,
    errorhandler: null,			// arguments: err, url, line. This function must return 'true' if the error is handled, otherwise 'false'
    compatibilitycheck: null,
    backgroundColor: "#6AB4FE",
    splashStyle: "Dark",
    dataUrl: "Release/WebGLRelease.data",
    codeUrl: "Release/WebGLRelease.js",
    asmUrl: "Release/WebGLRelease.asm.js",
    memUrl: "Release/WebGLRelease.mem",
  };
</script>
<script src="Release/UnityLoader.js"></script>
      
      
  </body>
</html>
